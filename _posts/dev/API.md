{"swagger":"2.0","info":{"description":"客户中心-BFF-激活码管理","version":"1.0","title":"客户中心-BFF-激活码管理","termsOfService":"https://microservice.lenovo.com/"},"host":"10.122.44.80:8083","basePath":"/","tags":[{"name":"ActivationCode API","description":"激活码管理服务"},{"name":"ActivationCode API 多租户支持","description":"激活码管理服务"}],"paths":{"/v1/activationcodes":{"get":{"tags":["ActivationCode API"],"summary":"激活码-条件查询","operationId":"findAllUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"query","required":false,"type":"string"},{"name":"code","in":"query","description":"激活码","required":false,"type":"string"},{"name":"state","in":"query","description":"激活码状态","required":false,"type":"string","enum":["0","1"]},{"name":"customerCode","in":"query","description":"客户编号","required":false,"type":"string"},{"name":"partnerRoleId","in":"query","required":false,"type":"string"},{"name":"partnerRoleType","in":"query","required":false,"type":"string"},{"name":"relationId","in":"query","description":"T2生成的注册码","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«List«ActivationCode»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true},"post":{"tags":["ActivationCode API"],"summary":"生成激活码","operationId":"addUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"requestParam","description":"requestParam","required":true,"schema":{"$ref":"#/definitions/CreateActivationCodeParam"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«ActivationCode»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true},"put":{"tags":["ActivationCode API"],"summary":"激活-已过时，请用V2版本","operationId":"activateUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"activeActivationCodeParam","description":"activeActivationCodeParam","required":true,"schema":{"$ref":"#/definitions/ActiveActivationCodeParam"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«AccountVo»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true}},"/v1/activationcodes/initOldDataTenantId":{"post":{"tags":["ActivationCode API"],"summary":"initOldDataTenantId","operationId":"initOldDataTenantIdUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"password","in":"query","description":"password","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/activationcodes/{idOrCode}":{"get":{"tags":["ActivationCode API"],"summary":"根据ID或activationCode查找激活码","operationId":"findOneUsingGET","produces":["*/*"],"parameters":[{"name":"idOrCode","in":"path","description":"idOrCode","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«ActivationCode»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true}},"/v1/activationcodes/{id}/eamil":{"put":{"tags":["ActivationCode API"],"summary":"邮箱发送激活码","operationId":"sendActivationCodeByEamilUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«ActivationCode»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true}},"/v1/activationcodes/{id}/message":{"put":{"tags":["ActivationCode API"],"summary":"短信发送激活码","operationId":"sendActivationCodeByMessageUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«ActivationCode»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true}},"/v2/activationcodes":{"get":{"tags":["ActivationCode API 多租户支持"],"summary":"激活码-条件查询","operationId":"findAllUsingGET_1","produces":["*/*"],"parameters":[{"name":"id","in":"query","required":false,"type":"string"},{"name":"code","in":"query","description":"激活码","required":false,"type":"string"},{"name":"state","in":"query","description":"激活码状态","required":false,"type":"string","enum":["0","1"]},{"name":"customerCode","in":"query","description":"客户编号","required":false,"type":"string"},{"name":"partnerRoleId","in":"query","required":false,"type":"string"},{"name":"partnerRoleType","in":"query","required":false,"type":"string"},{"name":"relationId","in":"query","description":"T2生成的注册码","required":false,"type":"string"},{"name":"tenantId","in":"header","description":"tenantId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«List«ActivationCode»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["ActivationCode API 多租户支持"],"summary":"生成激活码","operationId":"addUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"requestParam","description":"requestParam","required":true,"schema":{"$ref":"#/definitions/CreateActivationCodeParam"}},{"name":"tenantId","in":"header","description":"tenantId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«ActivationCode»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v2/activationcodes/{activationCode}":{"put":{"tags":["ActivationCode API 多租户支持"],"summary":"激活(需要校验短信验证码)","operationId":"activateUsingPUT_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"activationCode","in":"path","description":"activationCode","required":true,"type":"string"},{"in":"body","name":"requestParam","description":"requestParam","required":true,"schema":{"$ref":"#/definitions/ActiveActivationCodeParamV2"}},{"name":"tenantId","in":"header","description":"tenantId","required":false,"type":"string","default":"27"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«AccountVo»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v2/activationcodes/{activationCode}/validationcodes":{"post":{"tags":["ActivationCode API 多租户支持"],"summary":"生成手机验证码","operationId":"generateValidationCodeUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"activationCode","in":"path","description":"activationCode","required":true,"type":"string"},{"in":"body","name":"generateValidationCodeParam","description":"generateValidationCodeParam","required":true,"schema":{"$ref":"#/definitions/GenerateValidationCodeParam"}},{"name":"tenantId","in":"header","description":"tenantId","required":false,"type":"string","default":"27"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«string»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v2/activationcodes/{idOrCode}":{"get":{"tags":["ActivationCode API 多租户支持"],"summary":"根据ID或activationCode查找激活码","operationId":"findOneUsingGET_1","produces":["*/*"],"parameters":[{"name":"idOrCode","in":"path","description":"idOrCode","required":true,"type":"string"},{"name":"tenantId","in":"header","description":"tenantId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«ActivationCode»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v2/activationcodes/{id}/eamil":{"put":{"tags":["ActivationCode API 多租户支持"],"summary":"邮箱发送激活码","operationId":"sendActivationCodeByEamilUsingPUT_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"},{"name":"tenantId","in":"header","description":"tenantId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«ActivationCode»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v2/activationcodes/{id}/message":{"put":{"tags":["ActivationCode API 多租户支持"],"summary":"短信发送激活码","operationId":"sendActivationCodeByMessageUsingPUT_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"},{"name":"tenantId","in":"header","description":"tenantId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultEntity«ActivationCode»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"AccountVo":{"type":"object","properties":{"customerCode":{"type":"string"},"password":{"type":"string"},"username":{"type":"string"}},"title":"AccountVo"},"ActivationCode":{"type":"object","properties":{"code":{"type":"string","description":"激活码","allowEmptyValue":false},"createBy":{"type":"string"},"createTime":{"type":"string","format":"date-time"},"customerCode":{"type":"string","description":"公司编码","allowEmptyValue":false},"customerName":{"type":"string","description":"公司名称","allowEmptyValue":false},"expire":{"type":"integer","format":"int64","description":"过期时间，默认7天","allowEmptyValue":false},"id":{"type":"string"},"partnerRoleId":{"type":"string"},"partnerRoleType":{"type":"string"},"registedContact":{"description":"公司注册联系人","allowEmptyValue":false,"$ref":"#/definitions/Contact"},"relationId":{"type":"string"},"state":{"type":"string","description":"激活码状态","allowEmptyValue":false,"enum":["0","1"]},"tenantId":{"type":"string","description":"租户ID","allowEmptyValue":false},"updateBy":{"type":"string"},"updateTime":{"type":"string","format":"date-time"}},"title":"ActivationCode"},"ActiveActivationCodeParam":{"type":"object","properties":{"activationCode":{"type":"string","description":"激活码","allowEmptyValue":false},"password":{"type":"string","description":"密码","allowEmptyValue":false}},"title":"ActiveActivationCodeParam"},"ActiveActivationCodeParamV2":{"type":"object","properties":{"activationCode":{"type":"string","description":"激活码","allowEmptyValue":false},"cellPhone":{"type":"string","description":"客户注册时用手机号","allowEmptyValue":false},"password":{"type":"string","description":"密码","allowEmptyValue":false},"validationCode":{"type":"string","description":"手机收到的验证码","allowEmptyValue":false}},"title":"ActiveActivationCodeParamV2"},"Contact":{"type":"object","properties":{"cellphone":{"type":"string"},"department":{"type":"string"},"email":{"type":"string"},"extensionTelephone":{"type":"string"},"fax":{"type":"string"},"firstName":{"type":"string"},"fullName":{"type":"string","example":"王小明","description":"联系人","allowEmptyValue":false},"id":{"type":"string"},"identificationNumber":{"type":"string"},"lastName":{"type":"string"},"position":{"type":"string"},"telephone":{"type":"string","example":13188888888,"description":"电话","allowEmptyValue":false}},"title":"Contact"},"CreateActivationCodeParam":{"type":"object","required":["customerCode","partnerRoleId","partnerRoleType"],"properties":{"customerCode":{"type":"string","description":"客户编码:customerCode","allowEmptyValue":false},"partnerRoleId":{"type":"string","description":"角色ID:partnerRoleId","allowEmptyValue":false},"partnerRoleType":{"type":"string","description":"角色类型[经销商:dealer;分销商:distributor]","allowEmptyValue":false,"enum":["dealer","distributor"]},"relationId":{"type":"string","description":"T2的注册码","allowEmptyValue":false},"tenantId":{"type":"string","description":"租户ID","allowEmptyValue":false}},"title":"CreateActivationCodeParam"},"GenerateValidationCodeParam":{"type":"object","properties":{"activationCode":{"type":"string","description":"激活码","allowEmptyValue":false},"cellPhone":{"type":"string","description":"客户注册时用手机号","allowEmptyValue":false}},"title":"GenerateValidationCodeParam"},"ResultEntity":{"type":"object","properties":{"code":{"type":"string"},"data":{"type":"object"},"msg":{"type":"string"}},"title":"ResultEntity"},"ResultEntity«AccountVo»":{"type":"object","properties":{"code":{"type":"string"},"data":{"$ref":"#/definitions/AccountVo"},"msg":{"type":"string"}},"title":"ResultEntity«AccountVo»"},"ResultEntity«ActivationCode»":{"type":"object","properties":{"code":{"type":"string"},"data":{"$ref":"#/definitions/ActivationCode"},"msg":{"type":"string"}},"title":"ResultEntity«ActivationCode»"},"ResultEntity«List«ActivationCode»»":{"type":"object","properties":{"code":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/definitions/ActivationCode"}},"msg":{"type":"string"}},"title":"ResultEntity«List«ActivationCode»»"},"ResultEntity«string»":{"type":"object","properties":{"code":{"type":"string"},"data":{"type":"string"},"msg":{"type":"string"}},"title":"ResultEntity«string»"}}}